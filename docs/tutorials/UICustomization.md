# UI Customization Tutorial for BlinkReceipt Mobile Web SDK

## Introduction
This guide will cover the basics of customizing the BlinkReceipt Mobile Web SDK for integration into your specific application.

The main approach is to override callbacks (functions run after/during specific application actions/behaviors). There are specific callbacks that handle the behavior/presentation of specific DOM elements that are customizable.

There are 2 types of DOM elements generated by default : *internal* vs. *customizable*. The internal DOM elements are not exposed for you to customize. However, the customizable ones are available from the initial generation (via `createUI`) and throughout the lifecycle of the app's operations, via the callbacks. 

## Customizable DOM Elements

Element |
--- |
.brjs-edgeLabel |
#brjs-divButtonBar |
#brjs-tblButtons |
#brjs-btnSecondaryAction |
#brjs-snap |
#brjs-finish |
#brjs-imgSpinner |

## Callbacks Involving Customizable DOM Elements

Callback | Description
--- | ---
onCreateUI | This callback is invoked during creation of UI elements. You may override this in your instance to customize these specific elements, provided you preserve the `id`-attribute values, because they will be bound to events/callbacks.
onSnapClick | This callback is invoked when the primary action button is clicked on. In mobile-scanning mode, it toggles between the "camera shutter" and "add frame" functions, while in "static" file-upload mode,
onStartStaticScan | This callback is invoked after a static scan is performed (select image).
onStartMobileScan | This callback is invoked after the mobile scan is performed.
onAddScanButtonClicked | This callback is invoked when the plus-sign button is clicked on, to sideline the previously-captured frame and prepare the interface to receive another "click". You may override this in your instance to customize the display of the captured frame(s) and related user interface.
onScanInitiated | This callback is invoked at the point that the camera "snap" button is clicked on but before the "winning" frame has been acquired.
onScanAcquired | This callback is invoked after a scan and after weâ€™ve considered a number of frames from the video stream and chosen the best (winning) one. You may override this in your instance to customize the display of the captured frame and related user interface.
onSendImageToScannerResponded | This callback is invoked after a response returns from the scanning service, requested for captured/selected image(s). It is always invoked regardless of success or error.
onFinished | This callback is invoked once the user has indicated the scanning session is complete.
onBtnSecondaryActionClick | This callback is invoked when the secondary button is clicked. Since our stock UI uses one button for multiple actions, this code decides how to differentiate them. You may want to impelement yours differently, by overriding this. Or you may want to use your own separate buttons, in which case you'd still need to bind them to trigger the respective functions shown here, and null-override this callback.
onCancelScan | This callback is invoked if the user cancels out of the scanning session.
onEndScan | This callback is invoked after `finishClick`, and only after the scan results have returned (it will wait to invoke `onEndScan`), but before `returnResults`.
onStaticImgChange | This callback is invoked in "static" scanning mode once the user has selected an image but before it has loaded.
onUserChoseImage | This callback is invoked in "static" scanning mode once the user has selected an image and it has loaded. It is specific to the input tag of type="file" with id="brjs-inputImage", which is auto-generated by the core (native) code.
onRetakeScan | This callback is invoked after the retaking of a scan ("retake" button).
onClearScan | This callback is invoked after a scan is finished or cancelled, to reset variables and UI elements.
onStreamCaptureSuccess | This callback is invoked when a mobile-scan session has begun and the capture stream has successfully started (the camera is active and waiting for the "snap click").
onStreamCaptureError | This callback is invoked if an error occurs during the scanning session.
onStreamLoadedMetadata | This callback is invoked after the video stream is captured, and the best-quality frame assigned to the main video element as the receipt scan image.

## Required DOM Setup

The application expects a top-level DOM element named `#brjs-container` to contain all the other elements, so this is needed (see the demos for an example).

## How To Override Callbacks

## Second Demo To Showcase Camera-Crop Offsets

## Migrating From Older Versions (< 2.0)